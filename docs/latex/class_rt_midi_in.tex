\hypertarget{class_rt_midi_in}{}\section{Rt\+Midi\+In Class Reference}
\label{class_rt_midi_in}\index{Rt\+Midi\+In@{Rt\+Midi\+In}}


A realtime M\+I\+DI input class.  




{\ttfamily \#include $<$Rt\+Midi.\+h$>$}

Inheritance diagram for Rt\+Midi\+In\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_rt_midi_in}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{class_rt_midi_in_aac5c0da1ec6f97fe43d5189bad00caef}{Rt\+Midi\+Callback}) (double time\+Stamp, std\+::vector$<$ unsigned char $>$ $\ast$message, void $\ast$user\+Data)\hypertarget{class_rt_midi_in_aac5c0da1ec6f97fe43d5189bad00caef}{}\label{class_rt_midi_in_aac5c0da1ec6f97fe43d5189bad00caef}

\begin{DoxyCompactList}\small\item\em User callback function type definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_rt_midi_in_aeeaeed8dae387dffc70e73e6e88b4d1a}{Rt\+Midi\+In} (\hyperlink{class_rt_midi_aac66af04a85fe5c5f07c360574a19406}{Rt\+Midi\+::\+Api} api=\hyperlink{class_rt_midi_aac66af04a85fe5c5f07c360574a19406a4a4d9f7a38a082d6b0d5dd2b5de94ab9}{U\+N\+S\+P\+E\+C\+I\+F\+I\+ED}, const std\+::string client\+Name=std\+::string(\char`\"{}Rt\+Midi Input Client\char`\"{}), unsigned int queue\+Size\+Limit=100)
\begin{DoxyCompactList}\small\item\em Default constructor that allows an optional api, client name and queue size. \end{DoxyCompactList}\item 
\hyperlink{class_rt_midi_in_ae79f4da8a1b2e7efecdd1047670b27dc}{$\sim$\+Rt\+Midi\+In} (void)  throw ()\hypertarget{class_rt_midi_in_ae79f4da8a1b2e7efecdd1047670b27dc}{}\label{class_rt_midi_in_ae79f4da8a1b2e7efecdd1047670b27dc}

\begin{DoxyCompactList}\small\item\em If a M\+I\+DI connection is still open, it will be closed by the destructor. \end{DoxyCompactList}\item 
\hyperlink{class_rt_midi_aac66af04a85fe5c5f07c360574a19406}{Rt\+Midi\+::\+Api} \hyperlink{class_rt_midi_in_a6475a11eeb0c8bf22157c3887b100164}{get\+Current\+Api} (void)  throw ()\hypertarget{class_rt_midi_in_a6475a11eeb0c8bf22157c3887b100164}{}\label{class_rt_midi_in_a6475a11eeb0c8bf22157c3887b100164}

\begin{DoxyCompactList}\small\item\em Returns the M\+I\+DI A\+PI specifier for the current instance of \hyperlink{class_rt_midi_in}{Rt\+Midi\+In}. \end{DoxyCompactList}\item 
void \hyperlink{class_rt_midi_in_a39df8f81a22f729a9904707dde487d2c}{open\+Port} (unsigned int port\+Number=0, const std\+::string port\+Name=std\+::string(\char`\"{}Rt\+Midi Input\char`\"{}))
\begin{DoxyCompactList}\small\item\em Open a M\+I\+DI input connection given by enumeration number. \end{DoxyCompactList}\item 
void \hyperlink{class_rt_midi_in_a245261b3f12ce727faed18fcfeef18c2}{open\+Virtual\+Port} (const std\+::string port\+Name=std\+::string(\char`\"{}Rt\+Midi Input\char`\"{}))
\begin{DoxyCompactList}\small\item\em Create a virtual input port, with optional name, to allow software connections (OS X, J\+A\+CK and A\+L\+SA only). \end{DoxyCompactList}\item 
void \hyperlink{class_rt_midi_in_a7590563461c7467608a4b3806406b32d}{set\+Callback} (\hyperlink{class_rt_midi_in_aac5c0da1ec6f97fe43d5189bad00caef}{Rt\+Midi\+Callback} callback, void $\ast$user\+Data=0)
\begin{DoxyCompactList}\small\item\em Set a callback function to be invoked for incoming M\+I\+DI messages. \end{DoxyCompactList}\item 
void \hyperlink{class_rt_midi_in_ade23832a66c1ed56965c26325602543e}{cancel\+Callback} ()
\begin{DoxyCompactList}\small\item\em Cancel use of the current callback function (if one exists). \end{DoxyCompactList}\item 
void \hyperlink{class_rt_midi_in_a55bacf0d228fd8e3be6a79d12fd1dc39}{close\+Port} (void)\hypertarget{class_rt_midi_in_a55bacf0d228fd8e3be6a79d12fd1dc39}{}\label{class_rt_midi_in_a55bacf0d228fd8e3be6a79d12fd1dc39}

\begin{DoxyCompactList}\small\item\em Close an open M\+I\+DI connection (if one exists). \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_rt_midi_in_abc3f1204c9a8b3adc31cda4820c1935c}{is\+Port\+Open} () const \hypertarget{class_rt_midi_in_abc3f1204c9a8b3adc31cda4820c1935c}{}\label{class_rt_midi_in_abc3f1204c9a8b3adc31cda4820c1935c}

\begin{DoxyCompactList}\small\item\em Returns true if a port is open and false if not. \end{DoxyCompactList}\item 
unsigned int \hyperlink{class_rt_midi_in_a62b1b38aa8e5f11cd66f03d59228f4e4}{get\+Port\+Count} ()
\begin{DoxyCompactList}\small\item\em Return the number of available M\+I\+DI input ports. \end{DoxyCompactList}\item 
std\+::string \hyperlink{class_rt_midi_in_af2961fff09fa01a3d5bc0f0c5a042aaf}{get\+Port\+Name} (unsigned int port\+Number=0)
\begin{DoxyCompactList}\small\item\em Return a string identifier for the specified M\+I\+DI input port number. \end{DoxyCompactList}\item 
void \hyperlink{class_rt_midi_in_af9507125aaa42276ccc01df576fc3533}{ignore\+Types} (bool midi\+Sysex=true, bool midi\+Time=true, bool midi\+Sense=true)
\begin{DoxyCompactList}\small\item\em Specify whether certain M\+I\+DI message types should be queued or ignored during input. \end{DoxyCompactList}\item 
double \hyperlink{class_rt_midi_in_a1ba10ecd276b30a8579c7d60a9c890eb}{get\+Message} (std\+::vector$<$ unsigned char $>$ $\ast$message)
\begin{DoxyCompactList}\small\item\em Fill the user-\/provided vector with the data bytes for the next available M\+I\+DI message in the input queue and return the event delta-\/time in seconds. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_rt_midi_in_ad70189a24427b3169d81fcc69f6441e0}{set\+Error\+Callback} (\hyperlink{_rt_midi_8h_a57641d3490f722c3efb9ee1c640e36bb}{Rt\+Midi\+Error\+Callback} error\+Callback=N\+U\+LL, void $\ast$user\+Data=0)
\begin{DoxyCompactList}\small\item\em Set an error callback function to be invoked when an error has occured. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void {\bfseries open\+Midi\+Api} (\hyperlink{class_rt_midi_aac66af04a85fe5c5f07c360574a19406}{Rt\+Midi\+::\+Api} api, const std\+::string client\+Name, unsigned int queue\+Size\+Limit)\hypertarget{class_rt_midi_in_ae8f10c3a75a0f24b5d9f33fa83545ff5}{}\label{class_rt_midi_in_ae8f10c3a75a0f24b5d9f33fa83545ff5}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A realtime M\+I\+DI input class. 

This class provides a common, platform-\/independent A\+PI for realtime M\+I\+DI input. It allows access to a single M\+I\+DI input port. Incoming M\+I\+DI messages are either saved to a queue for retrieval using the \hyperlink{class_rt_midi_in_a1ba10ecd276b30a8579c7d60a9c890eb}{get\+Message()} function or immediately passed to a user-\/specified callback function. Create multiple instances of this class to connect to more than one M\+I\+DI device at the same time. With the O\+S-\/X, Linux A\+L\+SA, and J\+A\+CK M\+I\+DI A\+P\+Is, it is also possible to open a virtual input port to which other M\+I\+DI software clients can connect.

by Gary P. Scavone, 2003-\/2014. 

\subsection{Constructor \& Destructor Documentation}
\index{Rt\+Midi\+In@{Rt\+Midi\+In}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\index{Rt\+Midi\+In@{Rt\+Midi\+In}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{Rt\+Midi\+In(\+Rt\+Midi\+::\+Api api=\+U\+N\+S\+P\+E\+C\+I\+F\+I\+E\+D, const std\+::string client\+Name=std\+::string(""Rt\+Midi Input Client""), unsigned int queue\+Size\+Limit=100)}]{\setlength{\rightskip}{0pt plus 5cm}Rt\+Midi\+In\+::\+Rt\+Midi\+In (
\begin{DoxyParamCaption}
\item[{{\bf Rt\+Midi\+::\+Api}}]{api = {\ttfamily {\bf U\+N\+S\+P\+E\+C\+I\+F\+I\+ED}}, }
\item[{const std\+::string}]{client\+Name = {\ttfamily std\+:\+:string(~\char`\"{}RtMidi~Input~Client\char`\"{})}, }
\item[{unsigned int}]{queue\+Size\+Limit = {\ttfamily 100}}
\end{DoxyParamCaption}
)}\hypertarget{class_rt_midi_in_aeeaeed8dae387dffc70e73e6e88b4d1a}{}\label{class_rt_midi_in_aeeaeed8dae387dffc70e73e6e88b4d1a}


Default constructor that allows an optional api, client name and queue size. 

An exception will be thrown if a M\+I\+DI system initialization error occurs. The queue size defines the maximum number of messages that can be held in the M\+I\+DI queue (when not using a callback function). If the queue size limit is reached, incoming messages will be ignored.

If no A\+PI argument is specified and multiple A\+PI support has been compiled, the default order of use is A\+L\+SA, J\+A\+CK (Linux) and C\+O\+RE, J\+A\+CK (O\+S-\/X).


\begin{DoxyParams}{Parameters}
{\em api} & An optional A\+PI id can be specified. \\
\hline
{\em client\+Name} & An optional client name can be specified. This will be used to group the ports that are created by the application. \\
\hline
{\em queue\+Size\+Limit} & An optional size of the M\+I\+DI input queue can be specified. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\index{Rt\+Midi\+In@{Rt\+Midi\+In}!cancel\+Callback@{cancel\+Callback}}
\index{cancel\+Callback@{cancel\+Callback}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{cancel\+Callback()}]{\setlength{\rightskip}{0pt plus 5cm}void Rt\+Midi\+In\+::cancel\+Callback (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_rt_midi_in_ade23832a66c1ed56965c26325602543e}{}\label{class_rt_midi_in_ade23832a66c1ed56965c26325602543e}


Cancel use of the current callback function (if one exists). 

Subsequent incoming M\+I\+DI messages will be written to the queue and can be retrieved with the {\itshape get\+Message} function. \index{Rt\+Midi\+In@{Rt\+Midi\+In}!get\+Message@{get\+Message}}
\index{get\+Message@{get\+Message}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{get\+Message(std\+::vector$<$ unsigned char $>$ $\ast$message)}]{\setlength{\rightskip}{0pt plus 5cm}double Rt\+Midi\+In\+::get\+Message (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ unsigned char $>$ $\ast$}]{message}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_rt_midi_in_a1ba10ecd276b30a8579c7d60a9c890eb}{}\label{class_rt_midi_in_a1ba10ecd276b30a8579c7d60a9c890eb}


Fill the user-\/provided vector with the data bytes for the next available M\+I\+DI message in the input queue and return the event delta-\/time in seconds. 

This function returns immediately whether a new message is available or not. A valid message is indicated by a non-\/zero vector size. An exception is thrown if an error occurs during message retrieval or an input connection was not previously established. \index{Rt\+Midi\+In@{Rt\+Midi\+In}!get\+Port\+Count@{get\+Port\+Count}}
\index{get\+Port\+Count@{get\+Port\+Count}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{get\+Port\+Count()}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int Rt\+Midi\+In\+::get\+Port\+Count (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_rt_midi_in_a62b1b38aa8e5f11cd66f03d59228f4e4}{}\label{class_rt_midi_in_a62b1b38aa8e5f11cd66f03d59228f4e4}


Return the number of available M\+I\+DI input ports. 

\begin{DoxyReturn}{Returns}
This function returns the number of M\+I\+DI ports of the selected A\+PI. 
\end{DoxyReturn}


Implements \hyperlink{class_rt_midi_a9a49ef73a1e6007444019a7ae095e195}{Rt\+Midi}.

\index{Rt\+Midi\+In@{Rt\+Midi\+In}!get\+Port\+Name@{get\+Port\+Name}}
\index{get\+Port\+Name@{get\+Port\+Name}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{get\+Port\+Name(unsigned int port\+Number=0)}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Rt\+Midi\+In\+::get\+Port\+Name (
\begin{DoxyParamCaption}
\item[{unsigned int}]{port\+Number = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_rt_midi_in_af2961fff09fa01a3d5bc0f0c5a042aaf}{}\label{class_rt_midi_in_af2961fff09fa01a3d5bc0f0c5a042aaf}


Return a string identifier for the specified M\+I\+DI input port number. 

\begin{DoxyReturn}{Returns}
The name of the port with the given Id is returned. 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em An} & empty string is returned if an invalid port specifier is provided. \\
\hline
\end{DoxyRetVals}


Implements \hyperlink{class_rt_midi_a799e2b9f4df39b298518f2b394db3391}{Rt\+Midi}.

\index{Rt\+Midi\+In@{Rt\+Midi\+In}!ignore\+Types@{ignore\+Types}}
\index{ignore\+Types@{ignore\+Types}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{ignore\+Types(bool midi\+Sysex=true, bool midi\+Time=true, bool midi\+Sense=true)}]{\setlength{\rightskip}{0pt plus 5cm}void Rt\+Midi\+In\+::ignore\+Types (
\begin{DoxyParamCaption}
\item[{bool}]{midi\+Sysex = {\ttfamily true}, }
\item[{bool}]{midi\+Time = {\ttfamily true}, }
\item[{bool}]{midi\+Sense = {\ttfamily true}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_rt_midi_in_af9507125aaa42276ccc01df576fc3533}{}\label{class_rt_midi_in_af9507125aaa42276ccc01df576fc3533}


Specify whether certain M\+I\+DI message types should be queued or ignored during input. 

By default, M\+I\+DI timing and active sensing messages are ignored during message input because of their relative high data rates. M\+I\+DI sysex messages are ignored by default as well. Variable values of \char`\"{}true\char`\"{} imply that the respective message type will be ignored. \index{Rt\+Midi\+In@{Rt\+Midi\+In}!open\+Port@{open\+Port}}
\index{open\+Port@{open\+Port}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{open\+Port(unsigned int port\+Number=0, const std\+::string port\+Name=std\+::string(""Rt\+Midi Input""))}]{\setlength{\rightskip}{0pt plus 5cm}void Rt\+Midi\+In\+::open\+Port (
\begin{DoxyParamCaption}
\item[{unsigned int}]{port\+Number = {\ttfamily 0}, }
\item[{const std\+::string}]{port\+Name = {\ttfamily std\+:\+:string(~\char`\"{}RtMidi~Input\char`\"{}~)}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_rt_midi_in_a39df8f81a22f729a9904707dde487d2c}{}\label{class_rt_midi_in_a39df8f81a22f729a9904707dde487d2c}


Open a M\+I\+DI input connection given by enumeration number. 


\begin{DoxyParams}{Parameters}
{\em port\+Number} & An optional port number greater than 0 can be specified. Otherwise, the default or first port found is opened. \\
\hline
{\em port\+Name} & An optional name for the application port that is used to connect to port\+Id can be specified. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_rt_midi_ad9e30a89638f93193cb40edebaa536f5}{Rt\+Midi}.

\index{Rt\+Midi\+In@{Rt\+Midi\+In}!open\+Virtual\+Port@{open\+Virtual\+Port}}
\index{open\+Virtual\+Port@{open\+Virtual\+Port}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{open\+Virtual\+Port(const std\+::string port\+Name=std\+::string(""Rt\+Midi Input""))}]{\setlength{\rightskip}{0pt plus 5cm}void Rt\+Midi\+In\+::open\+Virtual\+Port (
\begin{DoxyParamCaption}
\item[{const std\+::string}]{port\+Name = {\ttfamily std\+:\+:string(~\char`\"{}RtMidi~Input\char`\"{}~)}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_rt_midi_in_a245261b3f12ce727faed18fcfeef18c2}{}\label{class_rt_midi_in_a245261b3f12ce727faed18fcfeef18c2}


Create a virtual input port, with optional name, to allow software connections (OS X, J\+A\+CK and A\+L\+SA only). 

This function creates a virtual M\+I\+DI input port to which other software applications can connect. This type of functionality is currently only supported by the Macintosh O\+S-\/X, any J\+A\+CK, and Linux A\+L\+SA A\+P\+Is (the function returns an error for the other A\+P\+Is).


\begin{DoxyParams}{Parameters}
{\em port\+Name} & An optional name for the application port that is used to connect to port\+Id can be specified. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_rt_midi_a9200cde4f5337c0bc421d20bd4fcf654}{Rt\+Midi}.

\index{Rt\+Midi\+In@{Rt\+Midi\+In}!set\+Callback@{set\+Callback}}
\index{set\+Callback@{set\+Callback}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{set\+Callback(\+Rt\+Midi\+Callback callback, void $\ast$user\+Data=0)}]{\setlength{\rightskip}{0pt plus 5cm}void Rt\+Midi\+In\+::set\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Rt\+Midi\+Callback}}]{callback, }
\item[{void $\ast$}]{user\+Data = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_rt_midi_in_a7590563461c7467608a4b3806406b32d}{}\label{class_rt_midi_in_a7590563461c7467608a4b3806406b32d}


Set a callback function to be invoked for incoming M\+I\+DI messages. 

The callback function will be called whenever an incoming M\+I\+DI message is received. While not absolutely necessary, it is best to set the callback function before opening a M\+I\+DI port to avoid leaving some messages in the queue.


\begin{DoxyParams}{Parameters}
{\em callback} & A callback function must be given. \\
\hline
{\em user\+Data} & Optionally, a pointer to additional data can be passed to the callback function whenever it is called. \\
\hline
\end{DoxyParams}
\index{Rt\+Midi\+In@{Rt\+Midi\+In}!set\+Error\+Callback@{set\+Error\+Callback}}
\index{set\+Error\+Callback@{set\+Error\+Callback}!Rt\+Midi\+In@{Rt\+Midi\+In}}
\subsubsection[{set\+Error\+Callback(\+Rt\+Midi\+Error\+Callback error\+Callback=\+N\+U\+L\+L, void $\ast$user\+Data=0)}]{\setlength{\rightskip}{0pt plus 5cm}void Rt\+Midi\+In\+::set\+Error\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Rt\+Midi\+Error\+Callback}}]{error\+Callback = {\ttfamily NULL}, }
\item[{void $\ast$}]{user\+Data = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_rt_midi_in_ad70189a24427b3169d81fcc69f6441e0}{}\label{class_rt_midi_in_ad70189a24427b3169d81fcc69f6441e0}


Set an error callback function to be invoked when an error has occured. 

The callback function will be called whenever an error has occured. It is best to set the error callback function before opening a port. 

Implements \hyperlink{class_rt_midi_aa6d6f2e0d06c64268c8898aa15f3a5df}{Rt\+Midi}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/rtmidi/\hyperlink{_rt_midi_8h}{Rt\+Midi.\+h}\item 
include/rtmidi/Rt\+Midi.\+cpp\end{DoxyCompactItemize}
